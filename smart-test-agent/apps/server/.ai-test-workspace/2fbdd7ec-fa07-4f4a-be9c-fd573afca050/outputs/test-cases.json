{
  "version": "1.0",
  "generated_at": "2026-02-11T15:45:00.000Z",
  "test_cases": [
    {
      "case_id": "TC-001",
      "requirement_id": "REQ-001",
      "route": "/AUTO_SCAN_CONFIG",
      "title": "验证页面Tab展示四种扫描类型",
      "precondition": "用户已登录且有系统维护权限",
      "steps": [
        {
          "step_id": "S1",
          "action": "navigate",
          "target": "/AUTO_SCAN_CONFIG",
          "description": "导航到任务自动下发配置页面"
        },
        {
          "step_id": "S2",
          "action": "wait",
          "target": ".scan-type-tabs",
          "description": "等待Tab组件加载完成"
        }
      ],
      "assertions": [
        {
          "assertion_id": "AST-001",
          "type": "element_visible",
          "target": "getByRole('tab', { name: '基线检测' })",
          "expected": "visible",
          "description": "验证基线检测Tab存在"
        },
        {
          "assertion_id": "AST-002",
          "type": "element_visible",
          "target": "getByRole('tab', { name: '弱口令检测' })",
          "expected": "visible",
          "description": "验证弱口令检测Tab存在"
        },
        {
          "assertion_id": "AST-003",
          "type": "element_visible",
          "target": "getByRole('tab', { name: '系统漏洞' })",
          "expected": "visible",
          "description": "验证系统漏洞Tab存在"
        },
        {
          "assertion_id": "AST-004",
          "type": "element_visible",
          "target": "getByRole('tab', { name: '外部漏洞' })",
          "expected": "visible",
          "description": "验证外部漏洞Tab存在"
        }
      ],
      "data_preparation": [],
      "data_cleanup": [],
      "tags": ["smoke", "tab-switch"]
    },
    {
      "case_id": "TC-002",
      "requirement_id": "REQ-001",
      "route": "/AUTO_SCAN_CONFIG",
      "title": "验证Tab切换加载对应配置数据",
      "precondition": "用户已登录且有系统维护权限，页面已加载",
      "steps": [
        {
          "step_id": "S1",
          "action": "navigate",
          "target": "/AUTO_SCAN_CONFIG",
          "description": "导航到任务自动下发配置页面"
        },
        {
          "step_id": "S2",
          "action": "wait",
          "target": ".scan-type-tabs",
          "description": "等待页面加载完成"
        },
        {
          "step_id": "S3",
          "action": "click",
          "target": "getByRole('tab', { name: '弱口令检测' })",
          "description": "点击弱口令检测Tab"
        },
        {
          "step_id": "S4",
          "action": "wait",
          "target": ".config-form",
          "description": "等待配置表单加载完成"
        }
      ],
      "assertions": [
        {
          "assertion_id": "AST-001",
          "type": "element_visible",
          "target": "getByRole('tab', { name: '弱口令检测', selected: true })",
          "expected": "visible",
          "description": "验证弱口令检测Tab处于选中状态"
        },
        {
          "assertion_id": "AST-002",
          "type": "soft",
          "target": "network_request",
          "expected": "GET /api/auto-scan/config/weak_pwd",
          "description": "验证发起了弱口令检测配置的加载请求"
        }
      ],
      "data_preparation": [],
      "data_cleanup": [],
      "tags": ["regression", "tab-switch"]
    },
    {
      "case_id": "TC-003",
      "requirement_id": "REQ-001",
      "route": "/AUTO_SCAN_CONFIG",
      "title": "验证有未保存修改时切换Tab弹出确认弹框",
      "precondition": "用户已登录，页面已加载基线检测配置",
      "steps": [
        {
          "step_id": "S1",
          "action": "navigate",
          "target": "/AUTO_SCAN_CONFIG",
          "description": "导航到任务自动下发配置页面"
        },
        {
          "step_id": "S2",
          "action": "wait",
          "target": ".config-form",
          "description": "等待配置表单加载完成"
        },
        {
          "step_id": "S3",
          "action": "fill",
          "target": "getByRole('spinbutton')",
          "value": "200",
          "description": "修改单个任务下发最大资产数触发表单变更"
        },
        {
          "step_id": "S4",
          "action": "click",
          "target": "getByRole('tab', { name: '弱口令检测' })",
          "description": "点击弱口令检测Tab"
        }
      ],
      "assertions": [
        {
          "assertion_id": "AST-001",
          "type": "element_visible",
          "target": "getByText('当前配置有未保存的修改，是否保存？')",
          "expected": "visible",
          "description": "验证弹出未保存修改确认弹框"
        },
        {
          "assertion_id": "AST-002",
          "type": "element_visible",
          "target": "getByRole('button', { name: /保.*存/ })",
          "expected": "visible",
          "description": "验证弹框包含保存按钮"
        },
        {
          "assertion_id": "AST-003",
          "type": "element_visible",
          "target": "getByRole('button', { name: '不保存' })",
          "expected": "visible",
          "description": "验证弹框包含不保存按钮"
        }
      ],
      "data_preparation": [],
      "data_cleanup": [],
      "tags": ["regression", "tab-switch"]
    },
    {
      "case_id": "TC-004",
      "requirement_id": "REQ-002",
      "route": "/AUTO_SCAN_CONFIG",
      "title": "验证自动下发开关展示",
      "precondition": "用户已登录且有系统维护权限",
      "steps": [
        {
          "step_id": "S1",
          "action": "navigate",
          "target": "/AUTO_SCAN_CONFIG",
          "description": "导航到任务自动下发配置页面"
        },
        {
          "step_id": "S2",
          "action": "wait",
          "target": ".config-section",
          "description": "等待配置区块加载完成"
        }
      ],
      "assertions": [
        {
          "assertion_id": "AST-001",
          "type": "element_visible",
          "target": "getByText('自动下发开关')",
          "expected": "visible",
          "description": "验证自动下发开关区块标题存在"
        },
        {
          "assertion_id": "AST-002",
          "type": "element_visible",
          "target": "getByRole('switch')",
          "expected": "visible",
          "description": "验证Switch开关组件存在"
        }
      ],
      "data_preparation": [],
      "data_cleanup": [],
      "tags": ["smoke", "switch"]
    },
    {
      "case_id": "TC-005",
      "requirement_id": "REQ-002",
      "route": "/AUTO_SCAN_CONFIG",
      "title": "验证开启开关时配置不完整的提示",
      "precondition": "用户已登录，自动下发当前为关闭状态，配置不完整（缺少必填项）",
      "steps": [
        {
          "step_id": "S1",
          "action": "navigate",
          "target": "/AUTO_SCAN_CONFIG",
          "description": "导航到任务自动下发配置页面"
        },
        {
          "step_id": "S2",
          "action": "wait",
          "target": ".config-form",
          "description": "等待配置表单加载完成"
        },
        {
          "step_id": "S3",
          "action": "click",
          "target": "getByRole('switch')",
          "description": "点击开关尝试开启自动下发"
        }
      ],
      "assertions": [
        {
          "assertion_id": "AST-001",
          "type": "element_visible",
          "target": "getByText(/请先完善配置/)",
          "expected": "visible",
          "description": "验证显示请先完善配置的提示信息"
        }
      ],
      "data_preparation": [],
      "data_cleanup": [],
      "tags": ["regression", "switch", "validation"]
    },
    {
      "case_id": "TC-006",
      "requirement_id": "REQ-002",
      "route": "/AUTO_SCAN_CONFIG",
      "title": "验证关闭开关时的二次确认弹框",
      "precondition": "用户已登录，自动下发当前为开启状态",
      "steps": [
        {
          "step_id": "S1",
          "action": "navigate",
          "target": "/AUTO_SCAN_CONFIG",
          "description": "导航到任务自动下发配置页面"
        },
        {
          "step_id": "S2",
          "action": "wait",
          "target": ".config-form",
          "description": "等待配置表单加载完成"
        },
        {
          "step_id": "S3",
          "action": "click",
          "target": "getByRole('switch')",
          "description": "点击开关尝试关闭自动下发"
        }
      ],
      "assertions": [
        {
          "assertion_id": "AST-001",
          "type": "element_visible",
          "target": "getByText('确认关闭')",
          "expected": "visible",
          "description": "验证弹出确认关闭弹框"
        },
        {
          "assertion_id": "AST-002",
          "type": "element_visible",
          "target": "getByText(/关闭后将取消待执行的自动调度任务/)",
          "expected": "visible",
          "description": "验证弹框提示内容正确"
        }
      ],
      "data_preparation": [],
      "data_cleanup": [],
      "tags": ["regression", "switch"]
    }
  ]
}

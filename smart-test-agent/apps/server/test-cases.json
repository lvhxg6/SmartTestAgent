{
  "version": "1.0",
  "generated_at": "2026-02-11T00:00:00.000Z",
  "test_cases": [
    {
      "case_id": "TC-001",
      "requirement_id": "REQ-001",
      "route": "/system-maintenance/auto-scan-config",
      "title": "验证页面顶部展示四个扫描类型Tab",
      "precondition": "用户已登录且有系统维护权限",
      "steps": [
        {
          "step_id": "S1",
          "action": "navigate",
          "target": "/system-maintenance/auto-scan-config",
          "description": "导航到任务自动下发配置页面"
        },
        {
          "step_id": "S2",
          "action": "screenshot",
          "target": "page",
          "description": "截图记录页面初始状态"
        }
      ],
      "assertions": [
        {
          "assertion_id": "AST-001",
          "type": "element_visible",
          "target": "getByRole('tab', { name: '基线检测' })",
          "expected": "visible",
          "description": "验证基线检测Tab存在"
        },
        {
          "assertion_id": "AST-002",
          "type": "element_visible",
          "target": "getByRole('tab', { name: '弱口令检测' })",
          "expected": "visible",
          "description": "验证弱口令检测Tab存在"
        },
        {
          "assertion_id": "AST-003",
          "type": "element_visible",
          "target": "getByRole('tab', { name: '系统漏洞' })",
          "expected": "visible",
          "description": "验证系统漏洞Tab存在"
        },
        {
          "assertion_id": "AST-004",
          "type": "element_visible",
          "target": "getByRole('tab', { name: '外部漏洞' })",
          "expected": "visible",
          "description": "验证外部漏洞Tab存在"
        }
      ],
      "data_preparation": [],
      "data_cleanup": [],
      "tags": ["smoke", "navigation"]
    },
    {
      "case_id": "TC-002",
      "requirement_id": "REQ-001",
      "route": "/system-maintenance/auto-scan-config",
      "title": "验证Tab切换加载对应配置数据",
      "precondition": "用户已登录且有系统维护权限，各扫描类型已有配置数据",
      "steps": [
        {
          "step_id": "S1",
          "action": "navigate",
          "target": "/system-maintenance/auto-scan-config",
          "description": "导航到任务自动下发配置页面"
        },
        {
          "step_id": "S2",
          "action": "click",
          "target": "getByRole('tab', { name: '弱口令检测' })",
          "description": "点击弱口令检测Tab"
        },
        {
          "step_id": "S3",
          "action": "screenshot",
          "target": "page",
          "description": "截图记录弱口令检测Tab页面"
        },
        {
          "step_id": "S4",
          "action": "click",
          "target": "getByRole('tab', { name: '系统漏洞' })",
          "description": "点击系统漏洞Tab"
        },
        {
          "step_id": "S5",
          "action": "screenshot",
          "target": "page",
          "description": "截图记录系统漏洞Tab页面"
        }
      ],
      "assertions": [
        {
          "assertion_id": "AST-001",
          "type": "soft",
          "target": "network-request",
          "expected": "GET /api/auto-scan/config/weak-password",
          "description": "验证切换到弱口令检测Tab时调用对应配置接口"
        },
        {
          "assertion_id": "AST-002",
          "type": "soft",
          "target": "network-request",
          "expected": "GET /api/auto-scan/config/system-vuln",
          "description": "验证切换到系统漏洞Tab时调用对应配置接口"
        }
      ],
      "data_preparation": [],
      "data_cleanup": [],
      "tags": ["smoke", "navigation"]
    },
    {
      "case_id": "TC-003",
      "requirement_id": "REQ-001",
      "route": "/system-maintenance/auto-scan-config",
      "title": "验证Tab切换时未保存修改提示",
      "precondition": "用户已登录且有系统维护权限",
      "steps": [
        {
          "step_id": "S1",
          "action": "navigate",
          "target": "/system-maintenance/auto-scan-config",
          "description": "导航到任务自动下发配置页面"
        },
        {
          "step_id": "S2",
          "action": "fill",
          "target": "getByRole('spinbutton', { name: '单个任务下发最大资产数' })",
          "value": "100",
          "description": "修改单个任务下发最大资产数"
        },
        {
          "step_id": "S3",
          "action": "click",
          "target": "getByRole('tab', { name: '弱口令检测' })",
          "description": "切换到弱口令检测Tab"
        },
        {
          "step_id": "S4",
          "action": "screenshot",
          "target": "page",
          "description": "截图记录确认提示弹框"
        }
      ],
      "assertions": [
        {
          "assertion_id": "AST-001",
          "type": "element_visible",
          "target": ".ant-modal-confirm",
          "expected": "visible",
          "description": "验证弹出未保存修改确认弹框"
        }
      ],
      "data_preparation": [],
      "data_cleanup": [],
      "tags": ["regression", "navigation"]
    },
    {
      "case_id": "TC-004",
      "requirement_id": "REQ-002",
      "route": "/system-maintenance/auto-scan-config",
      "title": "验证自动下发开关关闭时二次确认",
      "precondition": "用户已登录，自动下发当前为开启状态",
      "steps": [
        {
          "step_id": "S1",
          "action": "navigate",
          "target": "/system-maintenance/auto-scan-config",
          "description": "导航到任务自动下发配置页面"
        },
        {
          "step_id": "S2",
          "action": "click",
          "target": "getByRole('switch')",
          "description": "点击Switch开关关闭自动下发"
        },
        {
          "step_id": "S3",
          "action": "screenshot",
          "target": "page",
          "description": "截图记录确认弹框"
        }
      ],
      "assertions": [
        {
          "assertion_id": "AST-001",
          "type": "element_visible",
          "target": ".ant-modal-confirm",
          "expected": "visible",
          "description": "验证弹出二次确认弹框"
        },
        {
          "assertion_id": "AST-002",
          "type": "text_content",
          "target": ".ant-modal-confirm-body",
          "expected": "关闭后将取消待执行的自动调度任务，已有的手动调度任务不受影响",
          "description": "验证确认弹框提示内容正确"
        }
      ],
      "data_preparation": [],
      "data_cleanup": [],
      "tags": ["smoke", "switch"]
    },
    {
      "case_id": "TC-005",
      "requirement_id": "REQ-002",
      "route": "/system-maintenance/auto-scan-config",
      "title": "验证自动下发开关开启时配置不完整提示",
      "precondition": "用户已登录，自动下发当前为关闭状态，配置不完整",
      "steps": [
        {
          "step_id": "S1",
          "action": "navigate",
          "target": "/system-maintenance/auto-scan-config",
          "description": "导航到任务自动下发配置页面"
        },
        {
          "step_id": "S2",
          "action": "click",
          "target": "getByRole('switch')",
          "description": "点击Switch开关开启自动下发"
        },
        {
          "step_id": "S3",
          "action": "screenshot",
          "target": "page",
          "description": "截图记录提示信息"
        }
      ],
      "assertions": [
        {
          "assertion_id": "AST-001",
          "type": "element_visible",
          "target": ".ant-message",
          "expected": "visible",
          "description": "验证展示配置不完整提示"
        }
      ],
      "data_preparation": [],
      "data_cleanup": [],
      "tags": ["regression", "switch"]
    }
  ]
}
